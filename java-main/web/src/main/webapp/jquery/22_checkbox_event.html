<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jQuery</title>
</head>
<body>
	<h1>Checkbox Event</h1>
	<hr>
	<div id="terms">
		<h3>약관</h3>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
		<p>무슨 내용인지 이해할 수 없는 어려운 내용입니다.</p>
	</div>
	
	<div id="agree">
	<form action="21_submit_event.html" method="post" id="termForm">
		<div>
			<input type="checkbox" name="agreeCheck" id="agreeCheck" value="0">
			약관에 동의해 주세요.
		</div>
		<button type="submit" id="btn">다음</button>
		<div id="message" style="color:red;"></div>
	</form>
	</div>
	
	
	<script type="text/javascript">
	//선택자로 검색된 태그를 비활성화 처리되도록 태그 속성값 변경
	$("#btn").attr("disabled", "disabled"); //disabled => 버튼 비활성화
	
	$("#agreeCheck").change(function() {
		//약관 동의 여부에 대한 상태값을 저장하기 위한 변수
		//=> 0: 약관 미동의, 1: 약관 동의
		var check=0;
		
		//$(selector).is(status): 선택자로 검색된 태그(입력태그)의 상태를 비교하여
		//[false] 또는 [true]를 반환하는 메소드
		//=>input 태그(type 속성값 - checkbox 또는 radio)와 select 태그(option 태그)에서만 사용 가능
		if($(this).is(":checked")){ //이벤트가 발생된 태그(checkbox 또는 radio)가 선택상태(checked)인 경우
			check=1;
		
			//$(selector).removeAttr(name): 선택자로 검색된 태그의 속성을 삭제하는 메소드
			$("#btn").removeAttr("disabled"); 
		} else {
			check = 0;
			$("#btn").attr("disabled", "disabled");
		}
		
		$(this).val(check);
	});
	
	$("#termForm").submit(function() {
		if ($("#agreeCheck").val()==0) {
			$("#message").text("약관을 읽고 반드시 동의해 주세요.");
			return false; //form 태그 미실행 - submit이므로 기본 이벤트 삭제
		}
	});

	</script>
</body>
</html>